import{_ as f,a as u,o as i,c as n,b as s,w as p,v as h,d as _,F as m,r as g,e as k,f as x,t as E,p as T,g as y}from"./index-e38c1001.js";const L={name:"ToDoList",data(){return{toDoList:[],listElementObject:{text:"",complete:""},curretInputText:"",ElementToAdd:{text:""},errorMessage:""}},methods:{loadListElement:function(){console.log("Pobrieranie Elementów z REST API"),u.get("https://render-app-appi.onrender.com/todo").then(t=>{if(t.status===200){let o=t.data;this.toDoList=o.map(d=>({...d,isEditing:!1}))}})},deleteToDoListElement:function(t){u.delete(`https://render-app-appi.onrender.com/todo/${t}`).then(o=>{o.status===200&&this.loadListElement()})},updateToDoListElement:function(t){u.put(`https://render-app-appi.onrender.com/todo/${t.id}`,t).then(o=>{o.status===200&&(this.loadListElement(),console.log("Wysłano do bazy danych (zaktualizowano element)"))})},addToDoListElement:function(t){u.post("https://render-app-appi.onrender.com/todo",t).then(o=>{o.status===200&&(this.loadListElement(),console.log("Wysłano do bazy danych (Dodano element)"))})},addElement:function(){console.log(this.ElementToAdd.text),this.ElementToAdd.text=this.ElementToAdd.text.trim(),this.ElementToAdd.text===""?this.errorMessage="Proszę wprowadzić zadanie do zrealizowania":(this.errorMessage="",this.addToDoListElement(this.ElementToAdd),this.ElementToAdd.text="")},toggleTodo:function(t){this.toDoList=this.toDoList.map(d=>d.id===t?{...d,complete:!d.complete}:{...d});const o=this.toDoList.filter(d=>d.id===t);this.updateToDoListElement(Object.assign(this.listElementObject,o[0])),console.log("Dokonano aktualizacji elementu (Zadanie zrobione)")},startEditing:function(t){this.curretInputText=t.text,t.isEditing=!0,this.$nextTick(()=>{const o=document.querySelector('input[name="editInput"]');o&&o.focus()})},stopEditing:function(t){if(t.isEditing=!1,t.text===""||t.text===this.curretInputText)t.text=this.curretInputText;else{const o=this.toDoList.filter(d=>d.id===t.id);this.updateToDoListElement(Object.assign(this.listElementObject,o[0])),console.log("Dokonano aktualizacji elementu (Edytuj treść)")}}},mounted(){this.loadListElement()}},c=t=>(T("data-v-d8123dfa"),t=t(),y(),t),b={id:"root"},D=c(()=>s("h1",null,"Lista zadań",-1)),v={class:"form"},z=c(()=>s("i",{class:"fa fa-plus","aria-hidden":"true"},null,-1)),C=[z],A=["innerHTML"],I=["id"],w=["onUpdate:modelValue","onClick"],j={key:1},M={key:0},V={key:1},S=["onUpdate:modelValue","onBlur","onKeyup"],B={class:"buttons"},O=["onClick"],U=c(()=>s("i",{class:"fas fa-edit"},null,-1)),K=[U],P=["onClick"],W=c(()=>s("i",{class:"fa fa-check","aria-hidden":"true"},null,-1)),F=[W],H=["onClick"],N=c(()=>s("i",{class:"fas fa-trash"},null,-1)),q=[N],R=["onClick"],Z=c(()=>s("i",{class:"fa-solid fa-ban fa-sm"},null,-1)),G=[Z];function J(t,o,d,Q,r,a){return i(),n("div",b,[D,s("div",v,[p(s("input",{type:"text",placeholder:"Wpisz co należy zrobić","onUpdate:modelValue":o[0]||(o[0]=e=>r.ElementToAdd.text=e),name:"todo",onKeyup:o[1]||(o[1]=_((...e)=>a.addElement&&a.addElement(...e),["enter"]))},null,544),[[h,r.ElementToAdd.text]]),s("button",{onClick:o[2]||(o[2]=(...e)=>a.addElement&&a.addElement(...e))},C)]),s("div",{class:"error",innerHTML:r.errorMessage},null,8,A),s("ul",null,[(i(!0),n(m,null,g(r.toDoList,e=>(i(),n("li",{id:e.id},[e.isEditing?x("",!0):p((i(),n("input",{key:0,type:"checkbox","onUpdate:modelValue":l=>e.complete=l,onClick:l=>a.toggleTodo(e.id)},null,8,w)),[[k,e.complete]]),e.isEditing?p((i(),n("input",{key:2,name:"editInput",type:"text","onUpdate:modelValue":l=>e.text=l,onBlur:l=>a.stopEditing(e),onKeyup:_(l=>a.stopEditing(e),["enter"])},null,40,S)),[[h,e.text]]):(i(),n("span",j,[e.complete?(i(),n("p",M,[s("s",null,E(e.text),1)])):(i(),n("p",V,E(e.text),1))])),s("div",B,[e.isEditing?(i(),n("button",{key:1,onClick:l=>a.stopEditing(e)},F,8,P)):(i(),n("button",{key:0,onClick:l=>a.startEditing(e)},K,8,O)),e.isEditing?(i(),n("button",{key:3,onClick:l=>a.stopEditing(e)},G,8,R)):(i(),n("button",{key:2,onClick:l=>a.deleteToDoListElement(e.id)},q,8,H))])],8,I))),256))])])}const Y=f(L,[["render",J],["__scopeId","data-v-d8123dfa"]]);export{Y as default};
