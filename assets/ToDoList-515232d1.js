import{_ as f,a as u,o as i,c as n,b as s,w as p,v as h,d as _,F as m,r as g,e as k,f as x,t as E,p as T,g as y}from"./index-7c790f4d.js";const L={name:"ToDoList",data(){return{toDoList:[],listElementObject:{text:"",complete:""},curretInputText:"",ElementToAdd:{text:""},errorMessage:""}},methods:{loadListElement:function(){u.get("https://render-app-appi.onrender.com/todo").then(t=>{if(t.status===200){let o=t.data;this.toDoList=o.map(d=>({...d,isEditing:!1}))}})},deleteToDoListElement:function(t){u.delete(`https://render-app-appi.onrender.com/todo/${t}`).then(o=>{o.status===200&&this.loadListElement()})},updateToDoListElement:function(t){u.put(`https://render-app-appi.onrender.com/todo/${t.id}`,t).then(o=>{o.status===200&&(this.loadListElement(),console.log("Wysłano do bazy danych (zaktualizowano element)"))})},addToDoListElement:function(t){u.post("https://render-app-appi.onrender.com/todo",t).then(o=>{o.status===200&&(this.loadListElement(),console.log("Wysłano do bazy danych (Dodano element)"))})},addElement:function(){console.log(this.ElementToAdd.text),this.ElementToAdd.text=this.ElementToAdd.text.trim(),this.ElementToAdd.text===""?this.errorMessage="Proszę wprowadzić zadanie do zrealizowania":(this.errorMessage="",this.addToDoListElement(this.ElementToAdd),this.ElementToAdd.text="")},toggleTodo:function(t){this.toDoList=this.toDoList.map(d=>d.id===t?{...d,complete:!d.complete}:{...d});const o=this.toDoList.filter(d=>d.id===t);this.updateToDoListElement(Object.assign(this.listElementObject,o[0])),console.log("Dokonano aktualizacji elementu (Zadanie zrobione)")},startEditing:function(t){this.curretInputText=t.text,t.isEditing=!0,this.$nextTick(()=>{const o=document.querySelector('input[name="editInput"]');o&&o.focus()})},stopEditing:function(t){if(t.isEditing=!1,t.text===""||t.text===this.curretInputText)t.text=this.curretInputText;else{const o=this.toDoList.filter(d=>d.id===t.id);this.updateToDoListElement(Object.assign(this.listElementObject,o[0])),console.log("Dokonano aktualizacji elementu (Edytuj treść)")}}},mounted(){this.loadListElement()===!1&&(this.toDoList=[])}},c=t=>(T("data-v-816e2c03"),t=t(),y(),t),D={id:"root"},b=c(()=>s("h1",null,"Lista zadań",-1)),v={class:"form"},z=c(()=>s("i",{class:"fa fa-plus","aria-hidden":"true"},null,-1)),C=[z],A=["innerHTML"],I=["id"],j=["onUpdate:modelValue","onClick"],w={key:1},M={key:0},V={key:1},B=["onUpdate:modelValue","onBlur","onKeyup"],O={class:"buttons"},S=["onClick"],U=c(()=>s("i",{class:"fas fa-edit"},null,-1)),K=[U],W=["onClick"],F=c(()=>s("i",{class:"fa fa-check","aria-hidden":"true"},null,-1)),H=[F],N=["onClick"],q=c(()=>s("i",{class:"fas fa-trash"},null,-1)),P=[q],Z=["onClick"],G=c(()=>s("i",{class:"fa-solid fa-ban fa-sm"},null,-1)),J=[G];function Q(t,o,d,R,r,a){return i(),n("div",D,[b,s("div",v,[p(s("input",{type:"text",placeholder:"Wpisz co należy zrobić","onUpdate:modelValue":o[0]||(o[0]=e=>r.ElementToAdd.text=e),name:"todo",onKeyup:o[1]||(o[1]=_((...e)=>a.addElement&&a.addElement(...e),["enter"]))},null,544),[[h,r.ElementToAdd.text]]),s("button",{onClick:o[2]||(o[2]=(...e)=>a.addElement&&a.addElement(...e))},C)]),s("div",{class:"error",innerHTML:r.errorMessage},null,8,A),s("ul",null,[(i(!0),n(m,null,g(r.toDoList,e=>(i(),n("li",{id:e.id},[e.isEditing?x("",!0):p((i(),n("input",{key:0,type:"checkbox","onUpdate:modelValue":l=>e.complete=l,onClick:l=>a.toggleTodo(e.id)},null,8,j)),[[k,e.complete]]),e.isEditing?p((i(),n("input",{key:2,name:"editInput",type:"text","onUpdate:modelValue":l=>e.text=l,onBlur:l=>a.stopEditing(e),onKeyup:_(l=>a.stopEditing(e),["enter"])},null,40,B)),[[h,e.text]]):(i(),n("span",w,[e.complete?(i(),n("p",M,[s("s",null,E(e.text),1)])):(i(),n("p",V,E(e.text),1))])),s("div",O,[e.isEditing?(i(),n("button",{key:1,onClick:l=>a.stopEditing(e)},H,8,W)):(i(),n("button",{key:0,onClick:l=>a.startEditing(e)},K,8,S)),e.isEditing?(i(),n("button",{key:3,onClick:l=>a.stopEditing(e)},J,8,Z)):(i(),n("button",{key:2,onClick:l=>a.deleteToDoListElement(e.id)},P,8,N))])],8,I))),256))])])}const Y=f(L,[["render",Q],["__scopeId","data-v-816e2c03"]]);export{Y as default};
